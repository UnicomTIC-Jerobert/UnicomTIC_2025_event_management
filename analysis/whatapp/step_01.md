##USER

"நான் WhatsApp-ஐ மட்டும் பயன்படுத்தி ஒரு பேட்மிண்டன் கோர்ட் புக்கிங் சிஸ்டம் அல்லது டாக்டர் அப்பாயிண்ட்மென்ட் சிஸ்டம் செய்ய நினைக்கிறேன். 
எனக்கு API-ஐக் கையாளும் திறமையும், கோடிங் அறிவும் உண்டு. ஆகவே, இதை நாம் எவ்வாறு செயற்படுத்தலாம்?"

##RESPONSE

உங்கள் வாட்ஸ்அப் எண்ணை மட்டும் பயன்படுத்தி பேட்மிண்டன் கோர்ட் முன்பதிவு அல்லது மருத்துவர் சந்திப்புக்கான முன்பதிவு அமைப்பை உருவாக்கும் உங்கள் திட்டம் மிகவும் சாத்தியமானது. உங்களுக்கு ஏபிஐ (API) கையாளும் திறனும், கோடிங் அறிவும் இருப்பதால், வாட்ஸ்அப் பிசினஸ் ஏபிஐ (WhatsApp Business API) பயன்படுத்தி இந்த அமைப்பை நீங்களே உருவாக்க முடியும். அதை எப்படி செய்வது என்று விரிவாகப் பார்ப்போம்.

### **திட்டத்தைச் செயல்படுத்தத் தேவையானவை:**

*   **வாட்ஸ்அப் பிசினஸ் ஏபிஐ (WhatsApp Business API):** வாடிக்கையாளர்களுடன் உரையாடல்களை தானியக்கமாக்க இது அவசியம்.
*   **ஒரு சர்வர் (Server):** உங்கள் கோடிங்கை இயக்கவும், வாட்ஸ்அப்பிலிருந்து வரும் தகவல்களைச் செயல்படுத்தவும் ஒரு சர்வர் தேவை.
*   **டேட்டாபேஸ் (Database):** முன்பதிவு விவரங்கள், வாடிக்கையாளர் தகவல்கள் போன்றவற்றைச் சேமிக்க இது அவசியம்.
*   **பேமெண்ட் கேட்வே (Payment Gateway):** ஆன்லைனில் பணம் பெறுவதாக இருந்தால், ஒரு பேமெண்ட் கேட்வேயை இணைக்க வேண்டும்.

### **செயல்படுத்தும் படிகள்:**

**படி 1: வாட்ஸ்அப் பிசினஸ் ஏபிஐ-யை பெறுதல்**

வாட்ஸ்அப் பிசினஸ் ஏபிஐ-யை நேரடியாக வாட்ஸ்அப்பிடமிருந்து பெற முடியாது. மெட்டா (Meta) நிறுவனத்தின் பிசினஸ் சொல்யூஷன் புரொவைடர்கள் (Business Solution Providers - BSPs) மூலமாகத்தான் பெற முடியும். Twilio, 360dialog போன்ற நிறுவனங்கள் இதில் பிரபலமானவை.

1.  **ஒரு பிசினஸ் சொல்யூஷன் புரொவைடரை (BSP) தேர்வு செய்யவும்:** உங்கள் பட்ஜெட் மற்றும் தேவைகளுக்கு ஏற்ற ஒரு BSP-ஐத் தேர்ந்தெடுக்கவும்.
2.  **மெட்டா பிசினஸ் மேனேஜரில் (Meta Business Manager) கணக்கு தொடங்கவும்:** உங்கள் வணிகத்தை மெட்டாவில் பதிவு செய்து, உங்கள் வாட்ஸ்அப் பிசினஸ் கணக்கை உருவாக்கவும்.
3.  **தொலைபேசி எண்ணை இணைக்கவும்:** உங்கள் வாட்ஸ்அப் எண்ணை பிசினஸ் ஏபிஐ உடன் இணைக்கவும். இந்த எண்ணில் சாதாரண வாட்ஸ்அப் கணக்கு இருக்கக்கூடாது.

**படி 2: உங்கள் சிஸ்டத்தின் கட்டமைப்பை வடிவமைத்தல்**

உங்கள் முன்பதிவு சிஸ்டத்தின் முழுமையான செயல்பாட்டு ஓட்டத்தை (flow) வரையறுத்துக்கொள்ளுங்கள். உதாரணமாக:

1.  வாடிக்கையாளர் "Book" அல்லது "Appointment" என்று மெசேஜ் அனுப்புவார்.
2.  உங்கள் சிஸ்டம் தானாகவே, "பேட்மிண்டன் கோர்ட் முன்பதிவு செய்ய வேண்டுமா அல்லது மருத்துவரை சந்திக்க வேண்டுமா?" என்று கேட்கும்.
3.  வாடிக்கையாளர் பதிலைத் தேர்ந்தெடுத்ததும், கிடைக்கும் தேதிகள் மற்றும் நேரங்களைக் காட்டும்.
4.  வாடிக்கையாளர் தேதி மற்றும் நேரத்தைத் தேர்ந்தெடுத்த பிறகு, பெயர், தொலைபேசி எண் போன்ற விவரங்களைக் கேட்கும்.
5.  அனைத்து விவரங்களையும் உறுதிசெய்த பிறகு, முன்பதிவை உறுதிப்படுத்தும்.
6.  பணம் செலுத்த வேண்டியிருந்தால், பேமெண்ட் லிங்கை அனுப்பி, பணம் செலுத்தியதை உறுதிசெய்யும்.
7.  முன்பதிவுக்கு முன் நினைவூட்டல் (reminder) மெசேஜ் அனுப்பும்.

**படி 3: கோடிங் மற்றும் மேம்பாடு**

உங்களுக்கு கோடிங் அறிவு இருப்பதால், பைத்தான் (Python) போன்ற மொழிகளைப் பயன்படுத்தி இந்த சிஸ்டத்தை உருவாக்கலாம்.

1.  **வெப்ஹூக்கை (Webhook) அமைக்கவும்:** வாட்ஸ்அப்பிலிருந்து வரும் மெசேஜ்களைப் பெற, உங்கள் சர்வரில் ஒரு வெப்ஹூக் எண்ட்பாயிண்டை (Webhook Endpoint) உருவாக்க வேண்டும். வாடிக்கையாளர் உங்கள் வாட்ஸ்அப் எண்ணுக்கு மெசேஜ் அனுப்பும்போது, அந்தத் தகவல் இந்த வெப்ஹூக்கிற்கு அனுப்பப்படும்.
2.  **பைத்தான் ஃபிளாஸ்க் (Python Flask) அல்லது ஃபாஸ்ட்ஏபிஐ (FastAPI) பயன்படுத்தவும்:** வெப்ஹூக்கை உருவாக்குவதற்கும், ஏபிஐ கோரிக்கைகளைக் கையாளுவதற்கும் Flask அல்லது FastAPI போன்ற பிரேம்வொர்க்குகளைப் பயன்படுத்தலாம்.
3.  **உரையாடல் தர்க்கத்தை (Conversation Logic) உருவாக்கவும்:** மேலே வடிவமைத்த உரையாடல் ஓட்டத்திற்கு ஏற்ப உங்கள் கோடை எழுதவும். வாடிக்கையாளரின் பதில்களுக்கு ஏற்ப அடுத்தடுத்த கேள்விகளைக் கேட்கும் வகையில் இதை அமைக்க வேண்டும்.
4.  **டேட்டாபேஸ் உடன் இணைக்கவும்:** முன்பதிவு விவரங்கள், நேரம், வாடிக்கையாளர் தகவல்களைச் சேமிக்கவும், ஏற்கனவே முன்பதிவு செய்யப்பட்ட நேரத்தைக் காட்டவும் உங்கள் சிஸ்டத்தை PostgreSQL அல்லது MySQL போன்ற டேட்டாபேஸ் உடன் இணைக்கவும்.
5.  **கூகுள் கேலெண்டருடன் (Google Calendar) ஒருங்கிணைத்தல்:** புதிய முன்பதிவுகள் வந்தவுடன் அதை தானாகவே உங்கள் கூகுள் கேலெண்டரில் சேர்க்கும்படி செய்யலாம். இது சந்திப்புகளை நிர்வகிக்க எளிதாக இருக்கும்.

**படி 4: ஆன்லைன் பேமெண்ட் வசதியை இணைத்தல்**

இந்தியாவில், Razorpay, PayU போன்ற பேமெண்ட் கேட்வேக்கள் வாட்ஸ்அப் பேமெண்ட்டுகளை ஆதரிக்கின்றன.

*   **பேமெண்ட் கேட்வே கணக்கைத் தொடங்கவும்:** Razorpay அல்லது PayU-வில் ஒரு கணக்கைத் தொடங்கி, ஏபிஐ கீயை (API Key) பெறவும்.
*   **பேமெண்ட் லிங்கை உருவாக்கவும்:** ஒவ்வொரு முன்பதிவுக்கும் ஒரு தனிப்பட்ட பேமெண்ட் லிங்கை உருவாக்கி, அதை வாடிக்கையாளருக்கு வாட்ஸ்அப்பில் அனுப்பவும்.
*   **பேமெண்ட் நிலையைச் சரிபார்க்கவும்:** வாடிக்கையாளர் பணம் செலுத்தியதும், பேமெண்ட் கேட்வேயின் வெப்ஹூக் மூலம் அதை உறுதிசெய்து, முன்பதிவை உறுதிப்படுத்தவும்.

### **வாட்ஸ்அப் பிசினஸ் ஏபிஐயின் விலை மற்றும் வரம்புகள்:**

*   **விலை:** வாட்ஸ்அப் பிசினஸ் ஏபிஐயின் விலை நீங்கள் அனுப்பும் மெசேஜ்களின் எண்ணிக்கையைப் பொறுத்தது. இது உரையாடல் அடிப்படையிலான விலையிடல் மாதிரியைக் கொண்டுள்ளது. அதாவது, ஒவ்வொரு 24 மணி நேர உரையாடல் சாளரத்திற்கும் கட்டணம் விதிக்கப்படும். மேலும், நீங்கள் தேர்ந்தெடுக்கும் BSP-ஐப் பொறுத்து கூடுதல் கட்டணங்கள் இருக்கலாம்.
*   **வரம்புகள் (Messaging Limits):** ஆரம்பத்தில், நீங்கள் ஒரு நாளைக்கு குறிப்பிட்ட எண்ணிக்கையிலான வாடிக்கையாளர்களுக்கு மட்டுமே மெசேஜ் அனுப்ப முடியும் (எ.கா., 1,000 தனிப்பட்ட பயனர்கள்). உங்கள் மெசேஜ்களின் தரம் மற்றும் பயன்பாட்டைப் பொறுத்து இந்த வரம்பு படிப்படியாக அதிகரிக்கும்.

### **முக்கியமான குறிப்புகள்:**

*   **டெம்ப்ளேட் மெசேஜ்கள் (Template Messages):** நீங்களாக ஒரு வாடிக்கையாளருடன் உரையாடலைத் தொடங்கினால், மெட்டாவால் அங்கீகரிக்கப்பட்ட டெம்ப்ளேட் மெசேஜ்களை மட்டுமே பயன்படுத்த வேண்டும். ஆனால், வாடிக்கையாளர் உங்களுக்கு மெசேஜ் அனுப்பினால், 24 மணி நேரத்திற்குள் நீங்கள் எந்த மெசேஜையும் அனுப்பலாம்.
*   **வாடிக்கையாளர் ஒப்புதல் (Opt-in):** வாடிக்கையாளர்களுக்கு தானாக மெசேஜ் அனுப்புவதற்கு முன், அவர்களின் ஒப்புதலைப் பெறுவது அவசியம்.

இந்த வழிமுறைகளைப் பின்பற்றி, உங்கள் கோடிங் திறனைப் பயன்படுத்தி ஒரு முழுமையான மற்றும் தானியங்கு முன்பதிவு அமைப்பை வாட்ஸ்அப்பில் உருவாக்க முடியும்.

---

நிச்சயமாக, మీకు API மற்றும் கோடிங் அறிவு இருப்பதால், WhatsApp-ஐ மட்டும் பயன்படுத்தி ஒரு பேட்மிண்டன் கோர்ட் அல்லது டாக்டர் அப்பாயிண்ட்மெண்ட் புக்கிங் சிஸ்டத்தை உருவாக்குவது ஒரு சிறந்த மற்றும் சாத்தியமான திட்டமாகும். இதை எப்படி படிப்படியாகச் செயல்படுத்தலாம் என்பதை விரிவாகப் பார்ப்போம்.

### **திட்டத்தின் முக்கிய தேவைகள்:**

1.  **WhatsApp Business API:** வாடிக்கையாளர்களுடன் தானியங்கி முறையில் உரையாடல்களை மேற்கொள்ள இதுதான் அடித்தளம்.
2.  **ஒரு சர்வர் (Server):** உங்கள் கோடிங்கை இயக்கவும், வாட்ஸ்அப்பில் இருந்து வரும் கோரிக்கைகளைக் கையாளவும் ஒரு வெப் சர்வர் அவசியம்.
3.  **டேட்டாபேஸ் (Database):** முன்பதிவு விவரங்கள், வாடிக்கையாளர் தகவல்கள் மற்றும் நேர அட்டவணைகளைச் சேமிக்க இது தேவை.
4.  **பேமெண்ட் கேட்வே (Payment Gateway):** ஆன்லைன் மூலம் பணம் பெற விரும்பினால், பேமெண்ட் கேட்வேயை இணைக்க வேண்டும்.

---

### **செயல்படுத்தும் வழிமுறைகள்:**

#### **படி 1: WhatsApp Business API அணுகலைப் பெறுதல்**

சாதாரண WhatsApp Business App-ஐக் கொண்டு இதைச் செய்ய முடியாது. மென்பொருள் மூலம் அணுகக்கூடிய WhatsApp Business API உங்களுக்குத் தேவை.

*   **நேரடி அணுகல் இல்லை:** WhatsApp, தனது API-ஐ நேரடியாக நிறுவனங்களுக்கு வழங்குவதில்லை. மெட்டாவின் அதிகாரப்பூர்வ வணிகத் தீர்வு வழங்குநர்கள் (Business Solution Providers - BSPs) மூலமாகவே இதை பெற முடியும். (எ.கா: Twilio, Gupshup, 360dialog).
*   **BSP-ஐத் தேர்ந்தெடுத்தல்:** உங்கள் பட்ஜெட் மற்றும் தேவைக்கு ஏற்ற ஒரு BSP-ஐத் தேர்ந்தெடுக்கவும்.
*   **பதிவு செய்தல்:**
    1.  Meta Business Manager-ல் ஒரு கணக்கை உருவாக்கவும்.
    2.  நீங்கள் தேர்ந்தெடுத்த BSP மூலம் உங்கள் வணிக விவரங்கள் மற்றும் தொலைபேசி எண்ணை இணைத்து API அணுகலுக்கு விண்ணப்பிக்கவும்.
    3.  இந்த எண்ணில் சாதாரண வாட்ஸ்அப் கணக்கு இயங்கக்கூடாது.

மே 2022 முதல், சிறு வணிகங்களும் கிளவுட் அடிப்படையிலான இந்த API-ஐ எளிதாக அணுகுவது சாத்தியமாக்கப்பட்டுள்ளது.

#### **படி 2: சிஸ்டத்தின் உரையாடல் ஓட்டத்தை (Conversation Flow) வடிவமைத்தல்**

கோடிங் செய்வதற்கு முன், வாடிக்கையாளர் உங்கள் சிஸ்டத்துடன் எப்படி உரையாடுவார் என்பதைத் திட்டமிட வேண்டும்.

**உதாரண உரையாடல் ஓட்டம்:**

1.  **வாடிக்கையாளர்:** "Book" அல்லது "புதிய முன்பதிவு" என அனுப்புவார்.
2.  **உங்கள் சாட்பாட் (Chatbot):**
    *   "வணக்கம்! எதைத் தேர்வு செய்கிறீர்கள்?"
    *   1. பேட்மிண்டன் கோர்ட் புக்கிங்
    *   2. டாக்டர் அப்பாயிண்ட்மெண்ட்
3.  **வாடிக்கையாளர்:** "1" என அனுப்புகிறார்.
4.  **சாட்பாட்:** "தேதியைத் தேர்ந்தெடுக்கவும் (DD-MM-YYYY)" அல்லது उपलब्ध தேதிகளைக் காட்டும்.
5.  **வாடிக்கையாளர்:** ஒரு தேதியை அனுப்புகிறார்.
6.  **சாட்பாட்:** அந்தத் தேதியில் உள்ள ખાલી நேரங்களைக் காட்டும் (e.g., 10 AM - 11 AM, 2 PM - 3 PM).
7.  **வாடிக்கையாளர்:** நேரத்தைத் தேர்ந்தெடுக்கிறார்.
8.  **சாட்பாட்:** "உங்கள் முன்பதிவு உறுதிசெய்யப்பட்டுள்ளது. விவரங்கள்: கோர்ட் 1, தேதி: XX-XX-XXXX, நேரம்: 10 AM. நன்றி."

#### **படி 3: தொழில்நுட்ப கட்டமைப்பு மற்றும் கோடிங்**

உங்களுக்கு கோடிங் அறிவு இருப்பதால், இந்த பகுதியை நீங்களே கையாளலாம்.

1.  **வெப்ஹூக்கை (Webhook) அமைத்தல்:**
    *   வாடிக்கையாளர் உங்கள் வாட்ஸ்அப் எண்ணுக்கு செய்தி அனுப்பும்போது, அந்தத் தகவல் (செய்தி, அனுப்பியவர் எண் போன்றவை) உங்கள் சர்வருக்கு ஒரு HTTP POST கோரிக்கையாக அனுப்பப்படும். இதைப்பெற உங்கள் சர்வரில் ஒரு வெப்ஹூக் URL-ஐ உருவாக்க வேண்டும்.
    *   BSP-யின் டாஷ்போர்டில் இந்த வெப்ஹூக் URL-ஐ நீங்கள் கட்டமைக்க வேண்டும்.

2.  **சர்வர் பக்க கோடிங் (Backend Development):**
    *   **மொழி மற்றும் ফ্রেমওয়ার্ক:** Python (Flask/FastAPI) அல்லது Node.js (Express) போன்றவை இதற்கு மிகவும் பொருத்தமானவை.
    *   **உரையாடல் தர்க்கத்தை உருவாக்குதல்:** வெப்ஹூக் மூலம் பெறப்படும் செய்திகளைப் பகுப்பாய்வு செய்து, உரையாடல் ஓட்டத்திற்கு ஏற்ப பதில்களை அனுப்பும் லாஜிக்கை எழுத வேண்டும். ஒவ்வொரு பயனரின் உரையாடல் நிலையையும் (conversation state) நீங்கள் நிர்வகிக்க வேண்டும் (எ.கா., பயனர் தேதியைத் தேர்ந்தெடுத்துள்ளாரா, நேரத்தைத் தேர்ந்தெடுத்துள்ளாரா?).
    *   **BSP API-ஐப் பயன்படுத்துதல்:** வாடிக்கையாளருக்கு பதில் அனுப்ப, உங்கள் BSP வழங்கும் API-ஐப் பயன்படுத்த வேண்டும்.

3.  **டேட்டாபேஸ் ஒருங்கிணைப்பு (Database Integration):**
    *   MySQL, PostgreSQL போன்ற டேட்டாபேஸ்களைப் பயன்படுத்தலாம்.
    *   **டேட்டா மாடல்:** முன்பதிவுகள் (Bookings), பயனர்கள் (Users), கிடைக்கும் நேரங்கள் (Slots) போன்ற அட்டவணைகளை (tables) உருவாக்கவும்.
    *   **செயல்பாடு:** ஒரு பயனர் நேரத்தைத் தேர்ந்தெடுக்கும்போது, அந்த நேரம் ஏற்கெனவே முன்பதிவு செய்யப்பட்டுள்ளதா என்பதை டேட்டாபேஸில் சரிபார்த்து, புதிய முன்பதிவைச் சேமிக்க வேண்டும்.

4.  **கூடுதல் ஒருங்கிணைப்புகள் (Optional):**
    *   **Google Calendar:** புதிய முன்பதிவு செய்யப்படும்போது, அதை தானாகவே உங்கள் Google Calendar-ல் சேர்க்கும்படி செய்யலாம். இது அப்பாயிண்ட்மெண்ட்களை நிர்வகிக்க எளிதாக்கும்.

#### **படி 4: ஆன்லைன் பேமெண்ட் வசதியை இணைத்தல்**

*   இந்தியாவில் Razorpay, PayU போன்ற பேமெண்ட் கேட்வேக்கள் பிரபலமானவை.
*   **செயல்முறை:**
    1.  வாடிக்கையாளர் முன்பதிவை உறுதிசெய்ததும், பேமெண்ட் கேட்வேயின் API-ஐப் பயன்படுத்தி ஒரு பேமெண்ட் லிங்கை உருவாக்கவும்.
    2.  அந்த லிங்கை வாட்ஸ்அப் செய்தியாக வாடிக்கையாளருக்கு அனுப்பவும்.
    3.  வாடிக்கையாளர் பணம் செலுத்தியதும், பேமெண்ட் கேட்வேயின் வெப்ஹூக் மூலம் உங்களுக்கு அறிவிப்பு வரும்.
    4.  பணம் செலுத்தப்பட்டதை உறுதிசெய்து, இறுதி உறுதிப்படுத்தல் செய்தியை வாடிக்கையாளருக்கு அனுப்பவும்.

### **கவனிக்க வேண்டிய முக்கிய விஷயங்கள்:**

*   **செலவு:** WhatsApp Business API-க்கான கட்டணம், உரையாடல்களின் எண்ணிக்கையை அடிப்படையாகக் கொண்டது. ഓരോ 24 மணி நேர உரையாடல் சாளரத்திற்கும் ஒரு குறிப்பிட்ட கட்டணத்தை மெட்டா வசூலிக்கும். மேலும், நீங்கள் தேர்ந்தெடுக்கும் BSP-க்கு தனிக் கட்டணங்கள் இருக்கலாம்.
*   **செய்தி டெம்ப்ளேட்கள் (Template Messages):** நீங்களாக ஒரு உரையாடலைத் தொடங்கினால் (எ.கா., அப்பாயிண்ட்மெண்ட் நினைவூட்டல்), மெட்டாவால் முன்பே அங்கீகரிக்கப்பட்ட டெம்ப்ளேட் செய்திகளை மட்டுமே அனுப்ப முடியும். வாடிக்கையாளர் உரையாடலைத் தொடங்கினால், அடுத்த 24 மணி நேரத்திற்கு நீங்கள் எந்த செய்தியையும் அனுப்பலாம்.
*   **வாடிக்கையாளர் ஒப்புதல் (Opt-in):** வாடிக்கையாளர்களுக்கு தானாக செய்தி அனுப்புவதற்கு முன்பு, அவர்களிடம் இருந்து முறையான ஒப்புதல் பெற்றிருக்க வேண்டும்.
*   **துறை சார்ந்த கட்டுப்பாடுகள்:** வாட்ஸ்அப் சில துறைகளுக்கு API அணுகலை வழங்குவதில் கட்டுப்பாடுகளைக் கொண்டுள்ளது. குறிப்பாக, சுகாதாரத் துறை இதில் அடங்கும் என்பதால், டாக்டர் அப்பாயிண்ட்மெண்ட் சிஸ்டம் அமைக்கும்போது, அது வாட்ஸ்அப் கொள்கைகளுக்கு இணங்குவதை உறுதிப்படுத்திக் கொள்ள வேண்டும். விளம்பரச் செய்திகளை விட, வாடிக்கையாளர் சேவை சார்ந்த உரையாடல்களுக்கே வாட்ஸ்அப் முன்னுரிமை அளிக்கிறது.

இந்த வழிமுறைகளைப் பின்பற்றி, உங்கள் கோடிங் திறனைப் பயன்படுத்தி ஒரு சக்திவாய்ந்த மற்றும் முழுமையான தானியங்கு முன்பதிவு அமைப்பை வாட்ஸ்அப்பில் உருவாக்க முடியும்.

###USER###

"நான் 4 வருடங்களுக்கு முன்பு இந்தத் திட்டத்தை செயல்படுத்த எண்ணினேன். அப்போது Docker image-இன் ஊடாக WhatsApp API-ஐ run செய்யலாம் என கண்டுபிடித்தேன், ஆனால் அதை எவ்வாறு செயல்படுத்த வேண்டும்??"

##RESPONSE

நிச்சயமாக, நீங்கள் சொல்வது சரிதான். நான்கு வருடங்களுக்கு முன்பு, வாட்ஸ்அப் பிசினஸ் ஏபிஐ-யை (WhatsApp Business API) இயக்குவதற்கான அதிகாரப்பூர்வ முறை Docker கன்டெய்னர்களைப் (Docker Containers) பயன்படுத்தி, உங்கள் சொந்த சர்வரில் அல்லது கிளவுடில் (On-Premises) ஹோஸ்ட் செய்வதுதான். அந்த சமயத்தில், இந்த முறை மிகவும் சிக்கலானதாகவும், பெரிய நிறுவனங்களுக்கு மட்டுமே சாத்தியமானதாகவும் இருந்தது.

இப்போது நிலைமை অনেকটাই மாறிவிட்டது, ஆனால் நீங்கள் கேட்ட பழைய Docker முறையை எப்படிச் செயல்படுத்துவது என்பதைப் பற்றி விரிவாகப் பார்ப்போம்.

### **Docker முறையில் WhatsApp Business API-ஐ இயக்குவது எப்படி? (பழைய முறை)**

நான்கு ஆண்டுகளுக்கு முன்பு நீங்கள் திட்டமிட்ட Docker முறையைச் செயல்படுத்த, பின்வரும் படிகளைப் பின்பற்றியிருக்க வேண்டும். இந்த முறை இப்போதும் சில பிசினஸ் சொல்யூஷன் புரொவைடர்கள் (BSPs) மூலம் கிடைக்கிறது, ஆனால் இது இப்போது அதிகம் பரிந்துரைக்கப்படுவதில்லை.

**தேவையானவை:**

1.  **ஒரு சர்வர்:** குறைந்தபட்சம் 2 vCPU, 4GB RAM மற்றும் 50GB SSD கொண்ட ஒரு சர்வர் (Linux பரிந்துரைக்கப்படுகிறது).
2.  **Docker மற்றும் Docker Compose:** உங்கள் சர்வரில் இவை நிறுவப்பட்டிருக்க வேண்டும்.
3.  **பிசினஸ் சொல்யூஷன் புரொவைடர் (BSP):** Docker முறையில் API-ஐ ஆதரிக்கும் ஒரு BSP (உதாரணமாக, 360dialog).
4.  **MySQL அல்லது PostgreSQL டேட்டாபேஸ்:** வாட்ஸ்அப் கோர் (Core) அப்ளிகேஷனுக்குத் தேவை.

**செயல்படுத்தும் படிகள்:**

1.  **BSP-யிடம் பதிவு செய்தல்:**
    *   Docker முறையில் API அணுகலை வழங்கும் 360dialog போன்ற ஒரு BSP-யிடம் பதிவு செய்ய வேண்டும்.
    *   பதிவு செய்த பிறகு, அவர்கள் உங்களுக்கு ஒரு API கீ (API Key) மற்றும் தேவையான Docker Compose கோப்பை (`docker-compose.yml`) வழங்குவார்கள்.

2.  **Docker Compose கோப்பை கட்டமைத்தல் (`docker-compose.yml`):**
    *   அந்த `docker-compose.yml` கோப்பில், வாட்ஸ்அப் ஏபிஐ-ஐ இயக்கத் தேவையான பல Docker இமேஜ்கள் வரையறுக்கப்பட்டிருக்கும். பொதுவாக, இதில் இரண்டு முக்கிய கன்டெய்னர்கள் இருக்கும்:
        *   **Web App Container:** இது உங்கள் செயலியில் இருந்து வரும் API கோரிக்கைகளைக் கையாளும்.
        *   **Core App Container:** இது வாட்ஸ்அப் சர்வர்களுடன் நேரடியாகத் தொடர்புகொள்ளும்.
    *   இந்த கோப்பில், உங்கள் டேட்டாபேஸ் விவரங்கள், போர்ட் எண்கள் மற்றும் BSP வழங்கிய API கீ போன்றவற்றை உள்ளிட வேண்டும்.

3.  **Docker கன்டெய்னர்களை இயக்குதல்:**
    *   உங்கள் சர்வரில் `docker-compose.yml` கோப்பு ఉన్న ফোল্ডারে சென்று, பின்வரும் கட்டளையை இயக்க வேண்டும்:
        ```bash
        docker-compose up -d
        ```
    *   இந்த கட்டளை, தேவையான Docker இமேஜ்களைப் பதிவிறக்கம் செய்து, பின்னணியில் கன்டெய்னர்களை இயக்கும்.

4.  **தொலைபேசி எண்ணைப் பதிவு செய்தல்:**
    *   கன்டெய்னர்கள் இயங்கிய பிறகு, உங்கள் வாட்ஸ்அப் எண்ணை API உடன் இணைக்க வேண்டும். இதற்கு, BSP வழங்கும் API எண்ட்பாயிண்ட் (Endpoint) மூலம் ஒரு கோரிக்கையை அனுப்ப வேண்டும். பொதுவாக, SMS அல்லது குரல் அழைப்பு மூலம் ஒரு சரிபார்ப்புக் குறியீட்டைப் (Verification Code) பெற்று, அதைச் சமர்ப்பிக்க வேண்டும்.

5.  **வெப்ஹூக்கை (Webhook) அமைத்தல்:**
    *   வாடிக்கையாளர்களிடமிருந்து செய்திகள் வரும்போது, அதை உங்கள் புக்கிங் சிஸ்டத்திற்கு அனுப்ப, ஒரு வெப்ஹூக் URL-ஐ அமைக்க வேண்டும். வாட்ஸ்அப் கன்டெய்னர், உள்வரும் செய்திகளை இந்த URL-க்கு அனுப்பும்.

**இந்த முறையின் சிக்கல்கள் (ஏன் இது இப்போது பிரபலமாக இல்லை?):**

*   **நிர்வாகச் செலவு அதிகம்:** சர்வரை நீங்களே நிர்வகிக்க வேண்டும், Docker கன்டெய்னர்களைப் புதுப்பிக்க வேண்டும், மேலும் பாதுகாப்பு அம்சங்களையும் நீங்களே பார்த்துக்கொள்ள வேண்டும்.
*   **அதிக தொழில்நுட்ப அறிவு தேவை:** Docker, நெட்வொர்க்கிங் மற்றும் சர்வர் மேலாண்மை பற்றிய ஆழமான அறிவு தேவை.
*   **அளவிடுதல் (Scaling) கடினம்:** அதிக செய்திகளைக் கையாள, சர்வரின் திறனை நீங்களே அதிகரிக்க வேண்டும்.

---

### **இன்றைய புதிய மற்றும் எளிதான முறை: கிளவுட் ஏபிஐ (Cloud API)**

2022-ல், மெட்டா (Meta) நிறுவனமே நேரடியாக வழங்கும் **கிளவுட் ஏபிஐ (Cloud API)** அறிமுகப்படுத்தப்பட்டது. இது Docker முறையை விட மிகவும் எளிமையானது மற்றும் செலவு குறைவானது.

**கிளவுட் ஏபிஐ-யின் நன்மைகள்:**

*   **சர்வர் தேவையில்லை:** மெட்டாவே சர்வர்களை நிர்வகிப்பதால், நீங்கள் Docker, கன்டெய்னர்கள் அல்லது சர்வர் நிர்வாகம் பற்றி கவலைப்படத் தேவையில்லை.
*   **எளிதான அமைப்பு:** சில நிமிடங்களில் Meta for Developers தளத்தில் இருந்தே நேரடியாக API அணுகலைப் பெறலாம்.
*   **குறைந்த செலவு:** சர்வர் மற்றும் நிர்வாகச் செலவுகள் இல்லாததால், இது மிகவும் மலிவானது.
*   **தானியங்கு அளவிடுதல் (Automatic Scaling):** மெட்டாவே டிராஃபிக்கை நிர்வகிப்பதால், செயல்திறன் பற்றி நீங்கள் கவலைப்படத் தேவையில்லை.

**சுருக்கமாக:**

நான்கு ஆண்டுகளுக்கு முன்பு நீங்கள் நினைத்த Docker முறை சாத்தியமானதுதான், ஆனால் அது மிகவும் சிக்கலானது. இன்று, **மெட்டாவின் கிளவுட் ஏபிஐ** மூலம் எந்தவிதமான சர்வர் மற்றும் Docker அறிவும் இல்லாமல், நேரடியாக உங்கள் புக்கிங் சிஸ்டத்தை வாட்ஸ்அப் உடன் இணைக்க முடியும்.

எனவே, நீங்கள் இப்போது இந்தத் திட்டத்தைச் செயல்படுத்த விரும்பினால், Docker முறையைத் தவிர்த்துவிட்டு, **கிளவுட் ஏபிஐ**-யைப் பயன்படுத்துவதே மிகவும் சிறந்த மற்றும் எளிமையான தேர்வாக இருக்கும்.

------

##USER

"கிளவுட் ஏபிஐ-ஐ எவ்வாறு பயன்படுத்துவது என்று சொல்லலாமா?"

##RESPONSE

நிச்சயமாக! மெட்டாவின் கிளவுட் ஏபிஐ-யை (Meta's Cloud API) பயன்படுத்துவது, முந்தைய Docker முறையை விட மிகவும் எளிமையானது. இதற்கு நீங்கள் சர்வர்களை நிர்வகிக்கத் தேவையில்லை. அதை எப்படிப் பயன்படுத்துவது என்று படிப்படியாகப் பார்ப்போம்.

### **கிளவுட் ஏபிஐ-யை பயன்படுத்தத் தேவையானவை:**

*   **ஒரு மெட்டா டெவலப்பர் கணக்கு (Meta Developer Account):** `developers.facebook.com` தளத்தில் இதை உருவாக்கிக்கொள்ளலாம்.
*   **ஒரு மெட்டா பிசினஸ் கணக்கு (Meta Business Account):** உங்கள் வணிகத்தை நிர்வகிக்க இது தேவை.
*   **ஒரு தொலைபேசி எண்:** இந்த எண்ணில் சாதாரண வாட்ஸ்அப் கணக்கு இருக்கக்கூடாது. (சோதனைக்கு மெட்டாவே ஒரு தற்காலிக எண்ணை வழங்கும்).

---

### **கிளவுட் ஏபிஐ-யை அமைக்கும் (Setup) படிகள்:**

#### **படி 1: மெட்டா செயலியை (Meta App) உருவாக்குதல்**

1.  [Meta for Developers](https://developers.facebook.com/) தளத்திற்குச் செல்லவும்.
2.  "My Apps" என்பதைக் கிளிக் செய்து, "Create App" என்பதைத் தேர்ந்தெடுக்கவும்.
3.  செயலியின் வகையாக "Business" என்பதைத் தேர்ந்தெடுக்கவும்.
4.  உங்கள் செயலிக்கான பெயர், உங்கள் மின்னஞ்சல் முகவரி போன்றவற்றைக் கொடுத்து, உங்கள் மெட்டா பிசினஸ் கணக்கைத் தேர்ந்தெடுக்கவும்.
5.  "Create App" என்பதைக் கிளிக் செய்யவும்.

#### **படி 2: உங்கள் செயலிக்கு வாட்ஸ்அப்பைச் சேர்த்தல்**

1.  உங்கள் செயலியின் டாஷ்போர்டில் (Dashboard), கீழே ஸ்க்ரோல் செய்து "WhatsApp" என்பதைக் கண்டுபிடித்து, "Set up" என்பதைக் கிளிக் செய்யவும்.
2.  இது உங்களை WhatsApp Getting Started பக்கத்திற்கு அழைத்துச் செல்லும். உங்கள் பிசினஸ் கணக்கைத் தேர்ந்தெடுத்து தொடரவும்.

#### **படி 3: சோதனைச் செய்திகளை அனுப்புதல் (Testing)**

இப்போது நீங்கள் உங்கள் சொந்த எண்ணை இணைக்கும் முன்பே, மெட்டா வழங்கும் ஒரு தற்காலிக சோதனை எண்ணைப் (Temporary Test Number) பயன்படுத்தி சோதிக்கலாம்.

1.  **சோதனை எண்:** திரையில், உங்களுக்கு ஒரு தற்காலிக சோதனை எண் மற்றும் ஒரு தற்காலிக அணுகல் டோக்கன் (Access Token) காட்டப்படும்.
2.  **உங்கள் எண்ணைச் சேர்க்கவும்:** "To" என்ற புலத்தில், உங்கள் சொந்த வாட்ஸ்அப் எண்ணை International Format-ல் (+91 சேர்த்து) உள்ளிடவும். மெட்டா முதலில் உங்கள் எண்ணுக்கு ஒரு சரிபார்ப்புச் செய்தியை அனுப்பும்.
3.  **சோதனைச் செய்தி அனுப்புதல்:** உங்கள் எண்ணைச் சேர்த்த பிறகு, "Send message" பட்டனைக் கிளிக் செய்தால், "hello_world" என்ற டெம்ப்ளேட் செய்தி உங்கள் வாட்ஸ்அப்பிற்கு வரும்.

இதுவரை அனைத்தும் சரியாக நடந்தால், உங்கள் கிளவுட் ஏபிஐ வேலை செய்கிறது என்று அர்த்தம்!

#### **படி 4: உங்கள் சொந்த சர்வரில் வெப்ஹூக்கை (Webhook) அமைத்தல்**

இதுதான் உங்கள் புக்கிங் சிஸ்டத்தின் மிக முக்கியமான பகுதி. வாடிக்கையாளர் உங்களுக்கு செய்தி அனுப்பும்போது, மெட்டா அந்தத் தகவலை உங்கள் சர்வருக்கு அனுப்பும். இதைச் செய்ய வெப்ஹூக் அவசியம்.

1.  **வெப்ஹூக் URL-ஐ உருவாக்குதல்:** உங்கள் சர்வரில், `/webhook` போன்ற ஒரு பொது URL-ஐ உருவாக்கவும். இந்த URL, மெட்டாவிலிருந்து வரும் POST கோரிக்கைகளை ஏற்கும் திறன் கொண்டதாக இருக்க வேண்டும்.
    *   **சோதனைக்கு (For Local Development):** உங்கள் கணினியில் கோடிங் செய்யும்போது, `ngrok` போன்ற கருவிகளைப் பயன்படுத்தி உங்கள் லோக்கல் சர்வரை தற்காலிகமாக பொது இணையத்தில் அணுகும்படி செய்யலாம்.
2.  **வெப்ஹூக்கை கட்டமைத்தல்:**
    *   மெட்டா டெவலப்பர் டாஷ்போர்டில், WhatsApp -> Configuration பகுதிக்குச் செல்லவும்.
    *   "Webhook" பகுதியில், "Edit" என்பதைக் கிளிக் செய்யவும்.
    *   **Callback URL:** உங்கள் வெப்ஹூக் URL-ஐ இங்கே உள்ளிடவும்.
    *   **Verify Token:** நீங்களாக உருவாக்கும் ஒரு ரகசிய வார்த்தையை (எ.கா: `my_secret_token_123`) இங்கே உள்ளிடவும். இது உங்கள் வெப்ஹூக் பாதுகாப்பானது என்பதை உறுதிசெய்ய உதவும்.
3.  **வெப்ஹூக் புலங்களுக்கு சந்தா செலுத்துதல் (Subscribe to Webhook Fields):**
    *   "Webhook fields" என்பதில், "messages" என்பதைத் தேர்ந்தெடுப்பது மிக முக்கியம். அப்போதுதான் உங்களுக்கு ஒரு புதிய செய்தி வரும்போது மெட்டா உங்களுக்குத் தெரிவிக்கும்.

#### **படி 5: நிரந்தர அணுகல் டோக்கனை (Permanent Access Token) உருவாக்குதல்**

டாஷ்போர்டில் காட்டப்படும் டோக்கன் 24 மணிநேரத்தில் காலாவதியாகிவிடும். உங்கள் சிஸ்டம் தொடர்ந்து இயங்க, நிரந்தர டோக்கன் தேவை.

1.  உங்கள் மெட்டா பிசினஸ் கணக்கில் (business.facebook.com) System Users-ஐ உருவாக்கி, அவருக்கு உங்கள் வாட்ஸ்அப் சொத்துக்களுக்கான (Assets) அணுகலை வழங்க வேண்டும்.
2.  பின்னர், அந்த System User-க்கு ஒரு நிரந்தர டோக்கனை உருவாக்க வேண்டும். இந்த டோக்கனை உங்கள் கோடில் பயன்படுத்த வேண்டும்.

---

### **கோடிங் உதாரணம் (Python - Flask)**

உங்கள் புக்கிங் சிஸ்டத்தை பைத்தான் மற்றும் Flask Framework பயன்படுத்தி எப்படி உருவாக்குவது என்பதற்கான ஒரு சிறிய உதாரணம்.

**1. செய்திகளைப் பெறுவதற்கான வெப்ஹூக் கோட் (`app.py`):**

```python
from flask import Flask, request, jsonify
import json

app = Flask(__name__)

# மெட்டா உங்கள் வெப்ஹூக்கை சரிபார்க்க இந்த டோக்கனைப் பயன்படுத்தும்
VERIFY_TOKEN = "my_secret_token_123" 

@app.route('/webhook', methods=['GET', 'POST'])
def webhook():
    if request.method == 'GET':
        # வெப்ஹூக் சரிபார்ப்பு
        if request.args.get("hub.verify_token") == VERIFY_TOKEN:
            return request.args.get("hub.challenge")
        return "Verification token mismatch", 403
    
    # POST கோரிக்கைகளைக் கையாளுதல் (வாடிக்கையாளர் செய்தி அனுப்பும்போது)
    data = request.get_json()
    if data and data.get('object'):
        if (data.get('entry') and 
            data['entry'][0].get('changes') and 
            data['entry'][0]['changes'][0].get('value') and 
            data['entry'][0]['changes'][0]['value'].get('messages')):
            
            message_info = data['entry'][0]['changes'][0]['value']['messages'][0]
            sender_number = message_info['from']
            message_text = message_info['text']['body']
            
            print(f"புதிய செய்தி: '{message_text}' from {sender_number}")
            
            # இங்கே உங்கள் புக்கிங் லாஜிக்கை எழுதவும்
            # உதாரணம்: message_text == "Book" என்றால், தேதிகளை அனுப்பவும்.
            # send_whatsapp_message(sender_number, "தேதியைத் தேர்ந்தெடுக்கவும்.")

    return "OK", 200

if __name__ == '__main__':
    app.run(debug=True, port=5000)

```

**2. வாடிக்கையாளருக்கு பதில் அனுப்புவதற்கான கோட்:**

செய்திகளை அனுப்ப, நீங்கள் மெட்டாவின் Graph API-ஐ அழைக்க வேண்டும்.

```python
import requests

ACCESS_TOKEN = "YOUR_PERMANENT_ACCESS_TOKEN" # உங்கள் நிரந்தர டோக்கன்
PHONE_NUMBER_ID = "YOUR_PHONE_NUMBER_ID" # டாஷ்போர்டில் கிடைக்கும்

def send_whatsapp_message(to_number, message):
    url = f"https://graph.facebook.com/v15.0/{PHONE_NUMBER_ID}/messages"
    headers = {
        "Authorization": f"Bearer {ACCESS_TOKEN}",
        "Content-Type": "application/json"
    }
    payload = {
        "messaging_product": "whatsapp",
        "to": to_number,
        "type": "text",
        "text": {
            "body": message
        }
    }
    response = requests.post(url, headers=headers, json=payload)
    print(response.json())

# உதாரணப் பயன்பாடு
# send_whatsapp_message("91XXXXXXXXXX", "உங்கள் முன்பதிவு உறுதிசெய்யப்பட்டது!")
```

இந்த வழிமுறைகளைப் பின்பற்றி, நீங்கள் எளிதாக உங்கள் வாட்ஸ்அப் புக்கிங் சிஸ்டத்தை கிளவுட் ஏபிஐ மூலம் உருவாக்கத் தொடங்கலாம்.

##USER

"முந்தைய Docker முறையை எவ்வாறு பயன்படுத்துவது என்றும் சொல்லலாமா?"

##RESPONSE

நிச்சயமாக, மெட்டாவின் கிளவுட் ஏபிஐ வருவதற்கு முன்பு பரவலாகப் பயன்படுத்தப்பட்ட Docker முறையை எப்படிச் செயல்படுத்துவது என்பது பற்றிய விரிவான விளக்கத்தை இங்கே வழங்குகிறேன்.

இந்த முறைக்கு அதிக தொழில்நுட்ப அறிவும், சர்வர் நிர்வாக அனுபவமும் தேவைப்படும் என்பதை நினைவில் கொள்ளவும்.

### **Docker முறையில் WhatsApp Business API-ஐ அமைப்பது எப்படி?**

இந்த முறையில், வாட்ஸ்அப் ஏபிஐ-க்கான மென்பொருளை Docker கன்டெய்னர்களாக உங்கள் சொந்த சர்வரில் நீங்களே இயக்கி, நிர்வகிக்க வேண்டும்.

#### **படி 1: தேவையானவை (Prerequisites)**

1.  **ஒரு சர்வர் (Server):**
    *   குறைந்தபட்சம் 2 vCPU Cores, 4 GB RAM.
    *   குறைந்தபட்சம் 50 GB SSD ஸ்டோரேஜ்.
    *   Linux இயங்குதளம் (Ubuntu, CentOS போன்றவை) பரிந்துரைக்கப்படுகிறது.
    *   Docker மற்றும் Docker Compose நிறுவப்பட்டிருக்க வேண்டும்.
2.  **டேட்டாபேஸ் (Database):**
    *   ஒரு தனி MySQL அல்லது PostgreSQL டேட்டாபேஸ் தேவை. இதை அதே சர்வரில் இயக்கலாம் அல்லது தனியாகவும் நிர்வகிக்கலாம்.
3.  **பிசினஸ் சொல்யூஷன் புரொவைடர் (BSP):**
    *   Docker முறையில் (On-Premises) API அணுகலை வழங்கும் ஒரு BSP-ஐத் தேர்ந்தெடுக்க வேண்டும். **360dialog** இதற்கு ஒரு பிரபலமான எடுத்துக்காட்டு. எல்லா BSP-க்களும் இந்த முறையை ஆதரிப்பதில்லை.

#### **படி 2: BSP-யிடம் பதிவு செய்து API கீ பெறுதல்**

1.  360dialog போன்ற ஒரு BSP-யின் இணையதளத்திற்குச் சென்று, அவர்களின் WhatsApp Business API திட்டத்தில் பதிவு செய்யவும்.
2.  பதிவு செயல்முறையின்போது, உங்கள் Meta Business Manager கணக்கை இணைத்து, உங்கள் தொலைபேசி எண்ணை வாட்ஸ்அப் பிசினஸ் கணக்காகப் பதிவு செய்ய வேண்டும்.
3.  செயல்முறை முடிந்ததும், BSP உங்களுக்கு ஒரு **API கீ (API Key)** வழங்கும். இந்த கீ உங்கள் Docker செட்டப்பை அவர்களின் அமைப்புடன் இணைக்கப் பயன்படும்.

#### **படி 3: சர்வரில் Docker-ஐ அமைத்தல்**

1.  உங்கள் சர்வரில் லாகின் செய்து, Docker மற்றும் Docker Compose-இன் சமீபத்திய பதிப்புகளை நிறுவவும். இதற்கான வழிமுறைகள் Docker-இன் அதிகாரப்பூர்வ தளத்தில் கிடைக்கும்.

2.  வாட்ஸ்அப் ஏபிஐ-க்கான கோப்புகளை சேமிக்க ஒரு புதிய டைரக்டரியை உருவாக்கவும்.
    ```bash
    mkdir whatsapp-api
    cd whatsapp-api
    ```

#### **படி 4: Docker Compose கோப்பை உருவாக்குதல்**

வாட்ஸ்அப் ஏபிஐ-ஐ இயக்கத் தேவையான கன்டெய்னர்களை வரையறுக்க `docker-compose.yml` என்ற கோப்பை உருவாக்க வேண்டும். இதில் பொதுவாக இரண்டு முக்கிய கன்டெய்னர்கள் இருக்கும்:

*   **`whatsapp-coreapp`:** இது வாட்ஸ்அப்பின் முக்கிய சர்வர்களுடன் தொடர்புகொள்ளும்.
*   **`whatsapp-webapp`:** இது உங்கள் புக்கிங் சிஸ்டத்தில் இருந்து வரும் API கோரிக்கைகளைக் கையாளும்.

**உதாரண `docker-compose.yml` கோப்பு:**

```yaml
version: '3'
services:
  whatsapp-db:
    image: postgres:12
    restart: always
    environment:
      POSTGRES_USER: "your_db_user"
      POSTGRES_PASSWORD: "your_db_password"
      POSTGRES_DB: "whatsapp_db"
    volumes:
      - whatsapp-db-data:/var/lib/postgresql/data

  whatsapp-coreapp:
    image: 360dialog/whatsapp-coreapp:latest # BSP வழங்கும் இமேஜ்
    restart: always
    depends_on:
      - whatsapp-db
    environment:
      - WABIZ_DB_TYPE=POSTGRES
      - WABIZ_DB_HOST=whatsapp-db
      - WABIZ_DB_PORT=5432
      - WABIZ_DB_USER=your_db_user
      - WABIZ_DB_PASSWORD=your_db_password
      - WABIZ_DB_NAME=whatsapp_db
    ports:
      - "6051:6051"

  whatsapp-webapp:
    image: 360dialog/whatsapp-webapp:latest # BSP வழங்கும் இமேஜ்
    restart: always
    depends_on:
      - whatsapp-coreapp
    environment:
      - WABIZ_USERNAME=admin # உங்கள் விருப்பப்படி ஒரு Username
      - WABIZ_PASSWORD=your_secure_password # ஒரு வலுவான கடவுச்சொல்
      - WABIZ_API_KEY=YOUR_BSP_API_KEY # BSP வழங்கிய API கீ
    ports:
      - "8080:8080" # உங்கள் விருப்பப்படி போர்ட்டை மாற்றலாம்

volumes:
  whatsapp-db-data:
```
**முக்கிய குறிப்பு:** மேலே உள்ள கோப்பு ஒரு பொதுவான உதாரணம். உங்கள் BSP வழங்கும் சரியான `docker-compose.yml` கோப்பையே நீங்கள் பயன்படுத்த வேண்டும்.

#### **படி 5: கன்டெய்னர்களை இயக்குதல்**

உங்கள் `docker-compose.yml` கோப்பு ఉన్న டைரக்டரியில், பின்வரும் கட்டளையை இயக்கவும்:

```bash
docker-compose up -d
```
இந்த கட்டளை தேவையான Docker இமேஜ்களை பதிவிறக்கம் செய்து, பின்னணியில் கன்டெய்னர்களை இயக்கும். `docker ps` என்ற கட்டளையை இயக்கி கன்டெய்னர்கள் சரியாக இயங்குகின்றனவா என்பதைச் சரிபார்க்கலாம்.

#### **படி 6: உங்கள் புக்கிங் சிஸ்டத்துடன் இணைத்தல்**

1.  **API எண்ட்பாயிண்ட்:** இப்போது உங்கள் வாட்ஸ்அப் ஏபிஐ `http://<உங்கள்-சர்வர்-IP>:8080` என்ற முகவரியில் இயங்கும்.
2.  **செய்தி அனுப்புதல்:** உங்கள் புக்கிங் சிஸ்டத்தில் இருந்து ஒருவருக்கு செய்தி அனுப்ப, இந்த URL-க்கு ஒரு POST கோரிக்கையை அனுப்ப வேண்டும்.
3.  **வெப்ஹூக்கை அமைத்தல்:** வாடிக்கையாளர் ஒரு செய்தி அனுப்பினால், அந்தத் தகவலைப் பெற, நீங்கள் ஒரு வெப்ஹூக்கை அமைக்க வேண்டும். இதைச் செய்ய, உங்கள் சர்வரில் இயங்கும் வாட்ஸ்அப் ஏபிஐ-க்கு ஒரு API கோரிக்கையை அனுப்பி, உங்கள் புக்கிங் சிஸ்டத்தின் வெப்ஹூக் URL-ஐப் பதிவு செய்ய வேண்டும்.

---

### **Docker முறையின் சிக்கல்கள் (ஏன் இது இப்போது பரிந்துரைக்கப்படுவதில்லை?)**

*   **நிர்வாகம் மற்றும் பராமரிப்பு:** சர்வர், டேட்டாபேஸ், Docker கன்டெய்னர்களின் அப்டேட்கள், பாதுகாப்பு என அனைத்தையும் நீங்களே நிர்வகிக்க வேண்டும். இது ஒரு முழுநேர வேலையாக மாறக்கூடும்.
*   **அதிக செலவு:** சர்வர் மற்றும் பராமரிப்புக்கான செலவு, கிளவுட் ஏபிஐ-யை விட அதிகமாக இருக்கும்.
*   **சிக்கலான அமைப்பு:** ஆரம்ப அமைப்பு மிகவும் சிக்கலானது மற்றும் பிழைகள் ஏற்பட அதிக வாய்ப்புள்ளது.
*   **அளவிடுதல் (Scalability):** அதிக செய்திகளைக் கையாள வேண்டியிருக்கும்போது, சர்வரின் திறனை நீங்களே மேம்படுத்த வேண்டும். இது தானாக நடக்காது.

**முடிவுரை:**

Docker முறை உங்களுக்கு முழுமையான கட்டுப்பாட்டைக் கொடுத்தாலும், இன்றைய காலகட்டத்தில் **மெட்டாவின் கிளவுட் ஏபிஐ** பயன்படுத்துவதே மிகவும் எளிமையான, செலவு குறைந்த மற்றும் திறமையான வழியாகும். கிளவுட் ஏபிஐ-ல் சர்வர் நிர்வாகம் பற்றி நீங்கள் கவலைப்படத் தேவையில்லை என்பதால், உங்கள் புக்கிங் சிஸ்டத்தை உருவாக்குவதில் முழுமையாகக் கவனம் செலுத்தலாம்.


